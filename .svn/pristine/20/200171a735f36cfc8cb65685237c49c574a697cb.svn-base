<!-- 
 * == 개정이력(Modification Information) ==
 *   
 *   수정일      			수정자           수정내용
 *  ============   	============== =======================
 *  2025. 4. 11.     	JYS            최초 생성
 *
-->
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<link rel="stylesheet" href="${pageContext.request.contextPath }/resources/groupware/css/approval/apprForm.css" >

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<div>
	<button type="button" class="btn" data-status="A">
		<i class="fas fa-check"></i>승인
	</button>
	<button type="button" class="btn" data-status="R">
		<i class="fas fa-times-circle"></i>반려
	</button>
	<button type="button" class="btn" data-status="H">
		<i class="fas fa-hourglass-half"></i>보류
	</button>
	<button type="button" class="btn" onclick="downloadPDF()">
		<i class="fa fa-save"></i>다운로드
	</button>
</div>

<table>
	<tbody>
		<tr>
			<td><input type="hidden" id="currentUserId" value="${loginEmpId}" /></td>
			<td>
				<div id="aprvlDocDetailDiv" data-doc-no="${aprvlDocNo }">
					${aprvlDocContents }
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<div id="attachFileDiv">
					첨부파일
				</div>
			</td>
		</tr>
	</tbody>
</table>


<!-- 모달 구조 (페이지 어디든 넣어두면 됨) -->
<div id="approvalModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.5); z-index:1000;">
  <div style="background:#fff; margin:100px auto; padding:20px; width:60%; border-radius:8px; position:relative;">
    <!-- 닫기 버튼 -->
    <button onclick="document.getElementById('approvalModal').style.display='none'" style="position:absolute; top:10px; right:15px;">X</button>
    <div id="modalContent"></div> <!-- 여기에 결재선 HTML 들어감 -->
  </div>
</div>



<script src="${pageContext.request.contextPath }/resources/groupware/js/approval/aprvlDocDetail.js"></script>
