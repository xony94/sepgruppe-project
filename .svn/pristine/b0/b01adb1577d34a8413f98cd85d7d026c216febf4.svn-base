<!-- 
 * == 개정이력(Modification Information) ==
 *   
 *   수정일      			수정자           수정내용
 *  ============   	============== =======================
 *  2025. 3. 13.     	JYS            최초 생성
 *
-->
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>

<!DOCTYPE html>
<html lang="ko">
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>채팅방 목록</title>
    <style>
        /* 기본 바디 스타일 */
        body {
            margin: 0;
            padding: 0;
            font-family: "Noto Sans", sans-serif;
            background-color: #f9f9f9;
        }
        /* 메인 컨테이너 */
        .container {
            max-width: 420px;
            margin: 20px auto;
            background-color: #fff;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        /* 헤더 영역 */
        .header {
            text-align: center;
            font-size: 1.25rem;
            font-weight: bold;
            padding: 16px;
            border-bottom: 1px solid #eee;
        }
        /* 채팅방 목록 (ul) 스타일 */
        .chat-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        /* 각 채팅방 row (기존 row 클래스로 유지) */
        .chat-room-row {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .chat-room-row:hover {
            background-color: #fafafa;
        }
        /* 아바타 영역 */
        .chat-avatar {
            width: 48px;
            height: 48px;
            margin-right: 12px;
            border-radius: 50%;
            overflow: hidden;
        }
        .chat-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        /* 채팅방 정보 영역 */
        .chat-info {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        .chat-room-name {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 4px;
        }
        .chat-last-message {
            font-size: 0.9rem;
            color: #666;
        }
        /* 시간 영역 (오른쪽 정렬) */
        .chat-last-time {
            margin-left: auto;
            font-size: 0.75rem;
            color: #999;
        }
        /* 반응형 스타일 */
        @media (max-width: 767px) {
            .container {
                margin: 0 auto;
                border-radius: 0;
                box-shadow: none;
                max-width: 100%;
            }
            .chat-room-row {
                padding: 10px 14px;
            }
            .chat-avatar {
                width: 40px;
                height: 40px;
                margin-right: 10px;
            }
            .chat-room-name {
                font-size: 0.95rem;
            }
            .chat-last-message {
                font-size: 0.85rem;
            }
            .chat-last-time {
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">참여중인 채팅방</div>
    <ul class="chat-list">
        <c:forEach items="${rooms}" var="room">
            <!-- 기존에 사용하시던 "chat-room-row" 클래스를 그대로 사용 -->
            <li class="chat-room-row" data-roomid="${room.roomId}">
                <!-- 아바타 영역 (원하는 이미지로 변경 가능) -->
                <div class="chat-avatar">
                    <img src="https://via.placeholder.com/48" alt="Avatar">
                </div>
                <!-- 채팅방 정보 영역 -->
                <div class="chat-info">
                    <div class="chat-room-name">${room.chatRoom.roomName}</div>
                    <!-- 최근 메시지 요약이 있다면 표시 -->
                    <div class="chat-last-message">최근 메시지 요약</div>
                </div>
                <!-- 오른쪽에 최근 메시지 시간을 표시 (필요 시 room 객체의 lastMessageTime 사용) -->
                <div class="chat-last-time">--</div>
            </li>
        </c:forEach>
    </ul>
</div>
</body>
</html>
