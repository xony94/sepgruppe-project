<!-- 
 * == 개정이력(Modification Information) ==
 *   
 *   수정일      			수정자           수정내용
 *  ============   	============== =======================
 *  2025. 3. 14.     	JYS            최초 생성
 *
-->
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>프로젝트 생성</title>
    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/1.1.1/css/bootstrap-multiselect.min.css">
    <script src="${pageContext.request.contextPath}/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/1.1.1/js/bootstrap-multiselect.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <h2>프로젝트 생성</h2>
        <form action="${pageContext.request.contextPath}/${companyNo}/project/new" method="post">
            <div class="form-group">
                <label for="creator">생성자</label>
                <input type="text" class="form-control" id="creator" name="creator" value="${empId}" readonly>
            </div>
            <div class="form-group">
                <label for="projectTitle">프로젝트 제목</label>
                <input type="text" class="form-control" id="projectTitle" name="projectTitle" required>
            </div>
            <div class="form-group">
                <label for="projectStartTime">시작일</label>
                <input type="date" class="form-control" id="projectStartTime" name="projectStartTime" value="${currentDate}" required>
            </div>
            <div class="form-group">
                <label for="projectEndTime">종료일</label>
                <input type="date" class="form-control" id="projectEndTime" name="projectEndTime" required>
            </div>
            <div class="form-group">
                <label for="projectDesc">프로젝트 설명</label>
                <textarea class="form-control" id="projectDesc" name="projectDesc" rows="5"></textarea>
            </div>
            <div class="form-group">
                <label for="projectStatus">프로젝트 상태</label>
                <select class="form-control" id="projectStatus" name="projectStatus" required>
                    <option value="">선택하세요</option>
                    <option value="진행중">진행중</option>
                    <option value="완료">완료</option>
                    <option value="중단">중단</option>
                </select>
            </div>
            <div class="form-group">
                <label for="participants">프로젝트 참여자</label>
                <select multiple class="form-control" id="participants" name="participants" required>
                    <option value="">참여자를 선택하세요</option>
                    <c:forEach var="employee" items="${employees}">
                        <option value="${employee.empId}">${employee.empNm}</option>
                    </c:forEach>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">프로젝트 생성</button>
            <a href="${pageContext.request.contextPath}/${companyNo}/project" class="btn btn-secondary">취소</a>
        </form>
    </div>

    <script>
        $(document).ready(function() {
            $('#participants').multiselect({
                includeSelectAllOption: true,
                buttonText: function(options, select) {
                    if (options.length === 0) {
                        return '참여자를 선택하세요';
                    } else {
                        var labels = [];
                        options.each(function() {
                            labels.push($(this).text());
                        });
                        return labels.join(', ') + '';
                    }
                },
                nonSelectedText: '참여자를 선택하세요',
                allSelectedText: '모든 참여자'
            });
        });
    </script>
</body>
</html>








 
